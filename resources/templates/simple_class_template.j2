{#
    name: simple_class_template
    description: Template for generating an simple class
    author: Ajeet Singh
    JSON structure:
#}
{% from 'macro_utils.j2' import expand_arg, expand_args, print_field %}
#-- start class --
class {{ class_name }} ({{ inherits|default('object') }}):
    """
    {{ description|default('No Description') }}

{% if examples %}
    Example:
        {{ examples }}

{% endif %}
{% if notes %}
    Notes:
        {{ notes }}

{% endif %}
    """

{% if constructors %}
    #-- constructors --
{% for c_idx, cd in constructors.items(): %}
{%- if c_idx == '0' %}
    def __init__(self):
        """{{ cd.description|default('-- description --') }}

        """
{% if fields %}
        #-- Init fields --
        {% for field_name, field_details in fields.items() %}
        {{ print_field(field_name, field_details)|indent(8) }}
        {%- endfor %}
        #-- end init fields --

{% if cd.body %}
        {{ cd.body }}

{% endif %}
{% else %}
        {{ cd.body|default('pass') }}

{% endif %}
{% else %}
    def __init__(self{{ expand_args(cd.args) }}):
        """{{ cd.description|default('-- description --') }}
{% if cd.args and cd.args|length >0 %}

        Args:
{% for arg, ad in cd.args.items() %}
            {{ arg }} ({{ ad.type }}): {{ ad.description }}
{% endfor %}

{% endif %}
        """
        {{ cd.body|default('pass') }}

{% endif %}
{% endfor %}
    #-- end constructors --
{% endif %}

{% if methods %}
    #-- define methods --
{% for method, md in methods.items() %}
{% if md.args|length <= 0 %}
    def {{ method }}(self):
        """{{ md.description|default('No description') }}

        """
{% else %}
    def {{ method }}(self{% for arg, ad in md.args.items() %}, {{ expand_arg(arg, ad.type, ad.default) }}{% endfor %}) -> {{ '( ' if md.returns|length > 1 }}{{ md.returns|join(', ') }}{{ ' )' if md.returns|length > 1 }}:
        """{{ md.description|default('No description') }}

        Args:
{% for arg, ad in md.args.items() %}
            {{ arg }} ({{ ad.type }}): {{ ad.description }}
{% endfor %}

        """
{% endif %}
        {{ md.body|default('pass') }}
{% endfor %}

    #-- end define methods --
{% endif %}
#-- end class --
