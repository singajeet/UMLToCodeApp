{#
    name: simple_class_template
    description: Template for generating an simple class
    author: Ajeet Singh
    JSON structure:
#}
{# ---start macro definitions--- #}
{% macro arg_text(name, type, default) -%}
{{ name }}{{ ': ' ~ type if type }}{% if default and type in ['str','string'] %}='{{ default }}'{% elif default %}={{ default }}{% endif %}
{%- endmacro %}
{# ---end macro definitions--- #}
#-- start class --
class {{ class_name }} ({{ inherits|default('object') }}):
    """
    {{ description|default('No Description') }}

{% if examples %}
    Example:
        {{ examples }}

{% endif %}
{% if notes %}
    Notes:
        {{ notes }}

{% endif %}
    """

{% if constructors %}
    #-- constructors --
{% for c_idx, cd in constructors.items(): %}
{% if c_idx == '0' %}
    def __init__(self):
        """{{ cd.description|default('-- description --') }}

        """
{% if fields %}
        #-- Init fields --
{% for field, fd in fields.items() %}
        {{ '#' ~ fd.description if fd.description }}
{% if fd.type in ['str', 'string', 'text'] %}
        self.{{ field }} = '{{ fd.default|default('') }}'
{% elif fd.type in ['int', 'integer', 'double', 'float']  %}
        self.{{ field }} = {{ fd.default|default(0) }}
{% else %}
        self.{{ field }} = None
{% endif %}
{% endfor %}
        #-- end init fields --

{% if cd.body %}
        {{ cd.body }}

{% endif %}
{% else %}
        {{ cd.body|default('pass') }}

{% endif %}
{% else %}
    def __init__(self{% for arg, ad in cd.args.items() %}, {{ arg_text(arg, ad.type, ad.default) }}{% endfor %}):
        """{{ cd.description|default('-- description --') }}
{% if cd.args and cd.args|length >0 %}

        Args:
{% for arg, ad in cd.args.items() %}
            {{ arg }} ({{ ad.type }}): {{ ad.description }}
{% endfor %}

{% endif %}
        """
        {{ cd.body|default('pass') }}

{% endif %}
{% endfor %}
    #-- end constructors --
{% endif %}

{% if methods %}
    #-- define methods --
{% for method, md in methods.items() %}
{% if md.args|length <= 0 %}
    def {{ method }}(self):
        """{{ md.description|default('No description') }}

        """
{% else %}
    def {{ method }}(self{% for arg, ad in md.args.items() %}, {{ arg_text(arg, ad.type, ad.default) }}{% endfor %}) -> {{ '( ' if md.returns|length > 1 }}{{ md.returns|join(', ') }}{{ ' )' if md.returns|length > 1 }}:
        """{{ md.description|default('No description') }}

        Args:
{% for arg, ad in md.args.items() %}
            {{ arg }} ({{ ad.type }}): {{ ad.description }}
{% endfor %}

        """
{% endif %}
        {{ md.body|default('pass') }}
{% endfor %}

    #-- end define methods --
{% endif %}
#-- end class --
